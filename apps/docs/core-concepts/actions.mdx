---
title: "Actions"
description: "Building blocks of SpinAI agents"
---

## What are Actions?

Actions are discrete tasks that your AI agent can perform. They are:

- Type-safe and predictable
- Parameter-driven with state awareness
- Dependency-aware
- Reusable across agents

## New Actions Overview

With the latest update, SpinAI introduces new functionalities and improvements to actions, including:

- Enhanced action formatting for prompts
- Updated action types for better integration and flexibility
- Simplified creation of custom actions

These enhancements aim to streamline the development process and expand the capabilities of your AI agents.

## Action Formatting and Types

The introduction of `formatActionForPrompt` and `formatActionsForPrompt` functions allows for better presentation and organization of actions, especially when dealing with user inputs or displaying available actions in a user-friendly format.

### Formatting Actions

To format a single action for a prompt:

```typescript
import { formatActionForPrompt } from "spinai";

const formattedAction = formatActionForPrompt(action);
console.log(formattedAction);
```

To format multiple actions for a prompt:

```typescript
import { formatActionsForPrompt } from "spinai";

const formattedActions = formatActionsForPrompt(actions);
console.log(formattedActions);
```

### Updated Action Types

The `Action` interface has been updated to support a more flexible `run` function, accommodating different contexts and parameters:

```typescript
interface Action {
  id: string;
  description: string;
  parameters?: {
    type: "object";
    properties: Record<string, unknown>;
    required?: string[];
  };
  run: (params: {
    context: TaskLoopParams;
    parameters?: Record<string, unknown>;
  }) => Promise<any>;
  dependsOn?: string[];
  retries?: number;
}
```

## Creating Custom Actions

The process for creating custom actions remains straightforward while offering enhanced flexibility with the updated `Action` interface.

### Defining a New Action

To define a new action, use the `createAction` function with the updated `Action` interface:

```typescript
import { createAction } from "spinai";

export const add = createAction({
  id: "add",
  description: "Adds two numbers together",
  parameters: {
    type: "object",
    properties: {
      x: { type: "number", description: "First number" },
      y: { type: "number", description: "Second number" },
    },
    required: ["x", "y"],
  },
  async run({ context, parameters }) {
    const { x, y } = parameters || {};
    const result = x + y;
    context.state.result = result;
    return context.state;
  },
});
```

This example demonstrates how to define an action that adds two numbers, showcasing the use of the updated `run` function signature which now accepts an object containing `context` and `parameters`.

## Best Practices

When creating and configuring actions, consider the following best practices:

1. **Clear Parameter Schemas**: Define explicit parameter types and descriptions to ensure clarity and usability.
2. **Descriptive Action Descriptions**: Provide detailed descriptions to help understand when and how to use the action.
3. **State Management**: Utilize state for storing results, sharing data between actions, and maintaining context.
4. **Error Handling**: Implement parameter validation and leverage the retry mechanism for enhanced reliability.

## Next Steps

<CardGroup>
  <Card title="Task Loop" icon="arrows-spin" href="/core-concepts/task-loop">
    Learn how actions are orchestrated
  </Card>
  <Card
    title="State & Parameters"
    icon="arrows-spin"
    href="/core-concepts/state-and-parameters"
  >
    Learn how state and parameters work
  </Card>
  <Card title="Agents" icon="robot" href="/core-concepts/agents">
    See how to use actions in agents
  </Card>
</CardGroup>